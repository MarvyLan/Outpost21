<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_chargen_menus</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>context_menu_width = 0;
gui_size = 16; //tile size
selected_entry_pass = -1;

alarm[0] = 10;

//context menu
context_menu[0,0] = "Text";
context_menu[0,1] = -1;


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm check</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///construct context menu
var arraysize = array_height_2d(context_menu);
for (var i=0; i&lt;arraysize; i+=1) {
    show_debug_message("Context menu width check: " + string(context_menu[i,0]))
    context_menu_width = max( context_menu_width, ceil( string_width(context_menu[i,0])/gui_size));
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///draw_gui on screen!
//draw loop
var arraysize = array_height_2d(context_menu);
if arraysize &gt; 0 {
    for (var i=0; i&lt;arraysize; i+=1)
    {
        //draw alignment and such
        var drawx = x;
        var drawy = y + (i*gui_size);
        
        //left side   
        draw_sprite_part(spr_chargen_menus,0,0,gui_size,gui_size,gui_size,drawx-gui_size,drawy); //draw left side
        if i == 0 draw_sprite_part(spr_chargen_menus,0,0,0,gui_size,gui_size,drawx-gui_size,drawy-gui_size); //draw left side, top of menu
        if i == arraysize-1 draw_sprite_part(spr_chargen_menus,0,0,gui_size*2,gui_size,gui_size,drawx-gui_size,drawy+gui_size); //draw left side, bottom of menu
    
        //detect if mouse is one of the selections
        var inselection = false
        if point_in_rectangle(mouse_x,mouse_y,x,y+(i*gui_size),x+(context_menu_width*gui_size),y+(i*gui_size)+(gui_size)-1) inselection = true;
    
        //activate menu or disable selection
        if device_mouse_check_button_pressed(0,mb_left) and alarm[0] &lt;= 0 and instance_exists(obj_chargen_endfade) == false {
            if inselection == true {
                //select this securit thing
                inselection = 2; //boop sprite
                selected_entry_pass = i;
                event_user(1);
                alarm[0] = 10;
            }
        }
    
        //highlight selected
        if selected_entry_pass == i and inselection != 1 inselection = 2;
        
        //draw mid section
        draw_sprite_part_ext(spr_chargen_menus,inselection,gui_size,gui_size,gui_size,gui_size,drawx,drawy,context_menu_width,1,image_blend,image_alpha); //draw middle
        if i == 0 draw_sprite_part_ext(spr_chargen_menus,0,gui_size,0,gui_size,gui_size,drawx,drawy-gui_size,context_menu_width,1,image_blend,image_alpha); //draw middle, top of menu
        if i == arraysize-1 draw_sprite_part_ext(spr_chargen_menus,0,gui_size,gui_size*2,gui_size,gui_size,drawx,drawy+gui_size,context_menu_width,1,image_blend,image_alpha); //draw middle, bottom of menu
        
        //draw text
        draw_text(drawx,drawy,context_menu[i,0]);
        
        //right side,
        draw_sprite_part(spr_chargen_menus,0,gui_size*2,gui_size,gui_size,gui_size,drawx+(context_menu_width*gui_size),drawy); //draw right side
        if i == 0 draw_sprite_part(spr_chargen_menus,0,gui_size*2,0,gui_size,gui_size,drawx+(context_menu_width*gui_size),drawy-gui_size); //draw right side, top of menu
        if i == arraysize-1 draw_sprite_part(spr_chargen_menus,0,gui_size*2,gui_size*2,gui_size,gui_size,drawx+(context_menu_width*gui_size),drawy+gui_size); //draw right side, bottom of menu 
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
